<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Stay Hungry, Stay Foolish.">
<meta property="og:type" content="website">
<meta property="og:title" content="DeerW's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="DeerW's Blog">
<meta property="og:description" content="Stay Hungry, Stay Foolish.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DeerW's Blog">
<meta name="twitter:description" content="Stay Hungry, Stay Foolish.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>DeerW's Blog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DeerW's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/28/styled-components/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Deer Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DeerW's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/28/styled-components/" itemprop="url">
                  styled-components
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-28T16:35:44+08:00">
                2017-06-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>为了应对越来越复杂的web应用，组件化应运而生，React、Vue等组件化框架使我们的程序更简单更加可维护。Css 在 React 中的写法一直在持续改进，从原生的 Css 到 CSS Modules，再到 Css In Js，目标是让开发者更高效地写组件的样式。在一个组件内会将结构、样式和逻辑写在一起，虽然这违背了关注点分离的原则，但是这有利于组件间的隔离。为了顺应组件化的潮流，人们开始考虑使用Css In Js，styled components就是其中一种解决方案。styled components是一个React第三方库，作用是可以将样式写成组件的形式，实现在JS上编写CSS。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save styled-components</div></pre></td></tr></table></figure>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>使用过 React 的同学可能比较清楚，如果要在一个组件通过 JS 来定义 css 样式，就必须在 React 组件里面通过style属性来写。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> &lt;div style=&#123;&#123; <span class="attr">marginLeft</span>: <span class="number">10</span> &#125;&#125;&gt;Hello World&lt;<span class="regexp">/div&gt;;</span></div></pre></td></tr></table></figure>
<p>这种方式有很多<code>缺点</code>：</p>
<ul>
<li><p>样式属性与原生 css 的写法不一致，样式名称必须用驼峰的命名方式来命令，而不是多个单词用<code>-</code>号分隔；属性值必须用引号包起来</p>
</li>
<li><p>无法写伪元素，要实现hover的话就必须使用onMouseOver事件来实现，而且要写很多 JS 代码，像before和after这类伪元素则根本没法通过这种方式实现。</p>
</li>
</ul>
<p><code>styled-components</code> 最吸引开发者的是使用了 ES6 的字符串模板方式来定义 css 样式，这样使得 css 的写法与原生的 css 写法基本一致，克服了上述的缺点。</p>
<h4 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h4><p>关于 Styled Components 我们需要理解的最主要的事情就是其名称应该采取字面意思。不再根据他们的 Class 或者 HTML 元素来对 HTML 元素或组件进行样式化了。</p>
<p>我们目前使用的样式表写法：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;h1 className="title"&gt;Hello World&lt;/h1&gt;</div><div class="line"></div><div class="line">h1.title &#123;</div><div class="line">  font-size: 1.5em;</div><div class="line">  color: purple;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>但现在，我们可以定义一个拥有它们自己的封装风格的 styled Components。然后我们就可以在自己的代码中自由的使用它们了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">'styled-components'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> Title = styled.h1<span class="string">`</span></div><div class="line">  font-size: 1.5em;</div><div class="line">  color: purple;</div><div class="line">`;</div><div class="line"></div><div class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">Title</span> <span class="attr">primary</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">Title</span>&gt;</span></span></div><div class="line">  );</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</div></pre></td></tr></table></figure>
<p>实现结果如下：</p>
<p><img src="/images/styled_01.jpeg" alt=""></p>
<p>这两段代码看起来有一些细微的差别，事实上两者语法是非常相似的。但是它们的关键区别在于样式现在是这些组件的一部分。换句话说，我们正在摆脱 CSS class 作为组件和其样式的中间步骤这种情况。</p>
<p>styled-components 的联合创造者 Max Stoiber 说：</p>
<p><code>styled-components 的基本思想就是通过移除样式和组件之间的映射关系来达到最佳实践。</code></p>
<p>styled.h1函数返回一个React Component，styled components会为这个React Component添加一个class，该class的值为一个随机字符串。传给styled.h1的模板字符串参数的值实际上是CSS语法，这些CSS会附加到该React Component的class中，从而为React Component添加样式：</p>
<p><img src="/images/styled_02.jpeg" alt=""></p>
<p>这样也可以更好的解决Css全局作用域若命名重复导致样式被遮盖的问题，但需要注意的是，不推荐在styled components中使用嵌套，因为样式组件的子组件的className不会被编译成随机值，这些子组件的类还是会受CSS的全局作用域影响。</p>
<h4 id="更简单地控制样式-——-props参数"><a href="#更简单地控制样式-——-props参数" class="headerlink" title="更简单地控制样式 —— props参数"></a>更简单地控制样式 —— props参数</h4><p>在React中是通过控制className和style来控制样式的，如下例，Title组件需要判断是否有primary属性来判断是否渲染”title-primary”类的样式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Title</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">const</span> className = <span class="string">`title<span class="subst">$&#123;<span class="keyword">this</span>.props.primary ? <span class="string">' title-primary'</span> : <span class="string">''</span>&#125;</span>`</span>;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;className&#125;</span>&gt;</span>&#123;this.props.children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>styled components使用props来控制样式，将控制样式代码放在样式组件中，使React组件更加简洁：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">const</span> Title = styled.h1<span class="string">`</span></div><div class="line">  font-size: 1.5em;</div><div class="line">  color: <span class="subst">$&#123;props =&gt; props.primary ? <span class="string">'blue'</span> : <span class="string">'purple'</span>&#125;</span>;</div><div class="line">`;</div><div class="line"></div><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">Title</span> <span class="attr">primary</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">Title</span>&gt;</span></span></div></pre></td></tr></table></figure>
<p>上面两种写法非常相似，实际上还是要用CSS的语法编写样式。但是第一种写法需要className或style作为“中间人”使JS找到对应的样式，而styled components的写法中样式组件暴露props让外层JS来控制样式，不再需要className或style这样的“中间人”，移除了样式和组件间的映射关系。</p>
<p>而且，styled-components 的 CSS 仍然还是 CSS。所以像下面这样的代码也是完全有效的（尽管略微不常用）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">const</span> Title = styled.h1<span class="string">`</span></div><div class="line">  font-size: 1.5em;</div><div class="line">  color: purple;</div><div class="line"></div><div class="line">  &amp;.primary&#123;</div><div class="line">    color: blue;</div><div class="line">  &#125;</div><div class="line">`;</div><div class="line"></div><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">Title</span> <span class="attr">className</span>=<span class="string">"primary"</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">Title</span>&gt;</span></span> <span class="comment">// will be blue</span></div></pre></td></tr></table></figure>
<p>这是让 styled-components 很容易就被接受的一个特性：当存在疑惑时，我们总是可以倒退回你所熟悉的领域。</p>
<h4 id="Extending-Styles"><a href="#Extending-Styles" class="headerlink" title="Extending Styles"></a>Extending Styles</h4><p>继承一个组件的样式，并进行扩展<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">const Title = styled.h1`</div><div class="line">  font-size: 1.5em;</div><div class="line">  color: purple;</div><div class="line">`;</div><div class="line"></div><div class="line">const TomatoTitle = Title.extend`</div><div class="line">  color: tomato;</div><div class="line">  font-size: 2em;</div><div class="line">`;</div><div class="line"></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">Title</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">Title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">TomatoTitle</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">TomatoTitle</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="theme特性"><a href="#theme特性" class="headerlink" title="theme特性"></a>theme特性</h4><p>styled-components 里面还有一个比较特别的特性是theme，它利用了 React 的context特性来传递其中的参数，可以让样式对象直接从最上层的组件传递到最下层的组件。<br>将<code>theme</code>通过<code>ThemeProvider</code>（这也是 <code>styled-components</code> 的一个 API）这样下层组件就可以通过”props.theme”来引用其中的样式了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// 首先定义一个`theme`样式对象</span></div><div class="line"><span class="keyword">const</span> styleGuide = &#123;</div><div class="line">  <span class="attr">cloudy</span>: <span class="string">'#F2F4F7'</span>,</div><div class="line">  <span class="attr">darkGray</span>: <span class="string">'#4A637C'</span>,</div><div class="line">  <span class="attr">gray</span>: <span class="string">'#7A8D9F'</span>,</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">return</span> (</div><div class="line">  &lt;ThemeProvider theme=&#123;styleGuide&#125;&gt;</div><div class="line">    &lt;Route path="/login" component=&#123;LoginView&#125; /&gt;</div><div class="line">    &lt;Route path="/logout" component=&#123;LogoutView&#125; /&gt;</div><div class="line">  &lt;/ThemeProvider&gt;</div><div class="line">);</div><div class="line"></div><div class="line">// 定义button, 并且使用props.theme</div><div class="line">const Button = styled.button`</div><div class="line">  font-size: 1em;</div><div class="line">  margin: 1em;</div><div class="line">  padding: 0.25em 1em;</div><div class="line">  border-radius: 3px;</div><div class="line">  /* Color the border and text with theme properties */</div><div class="line">  color: $&#123;props =&gt; props.theme.darkGray&#125;;</div><div class="line">  border: 2px solid $&#123;props =&gt; props.theme.darkGray&#125;;</div><div class="line">`;</div></pre></td></tr></table></figure>
<h4 id="支持全部CSS特性"><a href="#支持全部CSS特性" class="headerlink" title="支持全部CSS特性"></a>支持全部CSS特性</h4><p>实际上styled components使用的还是CSS，因此完美支持CSS的所有特性。伪类，媒体查询，keyframes都可以在styled components中实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> styled, &#123; keyframes &#125; <span class="keyword">from</span> <span class="string">'styled-components'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> Title = styled.h1<span class="string">`</span></div><div class="line">    font-size: 1.5em;</div><div class="line">    text-align: center;</div><div class="line">    color: palevioletred;</div><div class="line"></div><div class="line">    &amp;:hover &#123;</div><div class="line">        background-color: #ddd;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @media (max-width: 650px) &#123;</div><div class="line">        font-size: 1em;</div><div class="line">    &#125;</div><div class="line">`;</div><div class="line"><span class="keyword">const</span> rotate360 = keyframes<span class="string">`</span></div><div class="line">  from &#123;</div><div class="line">    transform: rotate(0deg);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  to &#123;</div><div class="line">    transform: rotate(360deg);</div><div class="line">  &#125;</div><div class="line">`;</div><div class="line"></div><div class="line"><span class="keyword">const</span> Rotate = styled.div<span class="string">`</span></div><div class="line">  display: inline-block;</div><div class="line">  animation: <span class="subst">$&#123;rotate360&#125;</span> 2s linear infinite;</div><div class="line">`;</div></pre></td></tr></table></figure>
<h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>styled components一种全新的控制样式的编程方式，它能解决CSS全局作用域的问题，而且移除了样式和组件间的映射关系。将组件的内容都写在一个js文件中，更有利于维护，这是一个趋势，他的更多优势还需要更多的实践。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/22/create-react-app/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Deer Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DeerW's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/22/create-react-app/" itemprop="url">
                  Create React App
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-22T14:23:54+08:00">
                2017-06-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">npm install -g create-react-app</div><div class="line"></div><div class="line">create-react-app my-app</div><div class="line"><span class="built_in">cd</span> my-app/</div><div class="line">npm start</div></pre></td></tr></table></figure>
<h3 id="项目目录"><a href="#项目目录" class="headerlink" title="项目目录"></a>项目目录</h3><p><img src="/images/react_app_01.jpeg" alt=""></p>
<ul>
<li><p>对于要构建的项目，这些文件必须存在精确的文件名：</p>
<ul>
<li>public/index.html 是页面模板;</li>
<li>src/index.js 是JavaScript入口点。  </li>
</ul>
</li>
<li><p>可以删除或重命名其他文件。</p>
</li>
<li><p>你可以在里面创建子目录src。对于更快的重建，只有内部src的文件才能被Webpack处理。</p>
</li>
<li><p>你需要把所需要的JS和CSS文件放在里面src，否则Webpack不会看到它们。</p>
</li>
<li><p>只能使用public里面的public/index.html文件。</p>
</li>
<li><p>但是，可以创建更多的顶级目录。它们不会被包含在生产构建中，因此您可以将它们用于文档。</p>
</li>
</ul>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p>创建React应用程序分为两个包：</p>
<ul>
<li>create-react-app 是用于创建新项目的全局命令行实用程序。</li>
<li>react-scripts 是生成项目的开发依赖（包括这个）。<br>你几乎不需要更新create-react-app自己：它将所有的设置委托给react-scripts。</li>
</ul>
<p>当您运行时create-react-app，它始终使用最新版本创建项目，react-scripts以便您自动获得新创建的应用程序的所有新功能和改进。</p>
<p>要将现有项目更新到新版本react-scripts，请打开更改日志，找到您当前的版本（package.json如果您不确定，请选中此文件夹），并应用较新版本的迁移说明。</p>
<h3 id="支持脚本"><a href="#支持脚本" class="headerlink" title="支持脚本"></a>支持脚本</h3><ul>
<li><code>npm start</code> or <code>yarn start</code>  在开发模式下运行应用程序</li>
<li><code>npm test</code> or <code>yarn test</code></li>
<li><code>npm run build</code> or <code>yarn build</code> 将应用程序生成到build文件夹 它在生产模式下正确地捆绑了React，并优化了构建以获得最佳性能。构建被缩小，文件名包括散列。</li>
<li><p><code>npm run eject</code></p>
<ul>
<li><p>运行后项目目录改变结构：<br><img src="/images/react_app_02.jpeg" alt=""></p>
</li>
<li><p>注意：这是单向操作。一旦你eject，你不能回去！</p>
</li>
</ul>
</li>
</ul>
<h3 id="支持的语言功能"><a href="#支持的语言功能" class="headerlink" title="支持的语言功能"></a>支持的语言功能</h3><ul>
<li>ES6</li>
<li>指数运算符（ES2016）。</li>
<li>异步/等待（ES2017）。</li>
<li>对象休息/传播属性（第3阶段提案）。</li>
<li>动态导入（）（第3阶段提案）</li>
<li>类字段和静态属性（第2阶段提案）。</li>
<li>JSX和Flow语法。</li>
</ul>
<h4 id="在编辑器中调试"><a href="#在编辑器中调试" class="headerlink" title="在编辑器中调试"></a>在编辑器中调试</h4><p>一些编辑器，包括Sublime Text，Atom和Visual Studio代码，为ESLint提供插件。</p>
<p>它们不需要进行棉绒。您应该在终端以及浏览器控制台中看到输出输出。但是，如果您喜欢在编辑器中显示lint结果，则可以执行一些额外的步骤。</p>
<p>您需要先为编辑器安装ESLint插件。然后，添加一个调用.eslintrc到项目根目录的文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">   <span class="string">"extend"</span>: <span class="string">"react-app"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="代码分割"><a href="#代码分割" class="headerlink" title="代码分割"></a>代码分割</h3><p>用户可以使用代码分割，而不是下载整个应用程序，您可以将代码拆分成小块，然后可以按需加载。</p>
<p>此项目设置支持通过动态import()代码分割。类似import()函数的表单将模块名称作为参数，并返回一个Promise始终解析为模块的命名空间对象。</p>
<h3 id="添加样式变和图像、字体、文件"><a href="#添加样式变和图像、字体、文件" class="headerlink" title="添加样式变和图像、字体、文件"></a>添加样式变和图像、字体、文件</h3><p>使用Webpack，使用静态资源（如图像和字体）与CSS类似。您可在JavaScript模块中使用import。这告诉Webpack将该文件包含在包中。</p>
<p>为了减少对服务器的请求数量，导入小于10,000字节的映像返回数据URI而不是路径。这适用于以下文件扩展名：bmp，gif，jpg，jpeg和png。</p>
<p>###</p>
<p>通常鼓励您使用importJavaScript文件中的资源。例如，请参阅添加样式表和添加图像和字体的部分。这种机制提供了许多好处：</p>
<ul>
<li>将脚本和样式表缩小并捆绑在一起，以避免额外的网络请求。</li>
<li>缺少的文件导致编译错误，而不是用户的404错误。</li>
<li>结果文件名包括内容哈希，所以你不需要担心他们的旧版本的浏览器缓存。</li>
</ul>
<p>但是，有一个可用于在模块系统外部添加资产的逃生舱口。</p>
<p>如果将文件放入public文件夹，则不会被Webpack处理。相反，它将被复制到构建文件夹中。要引用public文件夹中的资产，您需要使用一个特殊的变量PUBLIC_URL。</p>
<p>在里面index.html，你可以这样使用：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"%PUBLIC_URL%/favicon.ico"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>这种方法的缺点：</p>
<ul>
<li>文件public夹中的任何文件都不能进行后处理或缩小。</li>
<li>在编译时不会调用缺少的文件，并为用户造成404错误。</li>
<li>结果文件名不会包含内容哈希，因此您需要添加查询参数或每次更改时重命名它们。</li>
</ul>
<h3 id="添加Flow"><a href="#添加Flow" class="headerlink" title="添加Flow"></a>添加Flow</h3><p>Flow是一种静态类型检查器，可帮助您编写更少错误的代码。</p>
<p>要将流添加到创建应答应用程序项目，请按照下列步骤操作：</p>
<ul>
<li>运行<code>npm install --save-dev flow-bin</code>（或<code>yarn add --dev flow-bin</code>）。</li>
<li>添加<code>&quot;flow&quot;: &quot;flow&quot;</code>到 <code>package.json</code> 的<code>scripts</code>部分。</li>
<li>运行<code>npm run flow init</code>（或 <code>yarn flow init</code> ）在根目录中创建一个<code>.flowconfig</code>文件。</li>
<li>添加 <code>// @flow</code> 到您要键入的任何文件检查（例如，到 <code>src/App.js</code> ）。</li>
</ul>
<h3 id="开发组件隔离"><a href="#开发组件隔离" class="headerlink" title="开发组件隔离"></a>开发组件隔离</h3><p>使用Storybook设置您的应用程序</p>
<p>首先，在全球安装以下npm软件包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g @storybook/cli</div></pre></td></tr></table></figure>
<p>然后，在应用程序的目录中运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">getstorybook</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/08/HTML5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Deer Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DeerW's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/08/HTML5/" itemprop="url">
                  HTML5新特性
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-08T13:51:43+08:00">
                2017-06-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>HTML5不仅仅是HEML规范的最新版本，它还是一系列用来制作现在富Web内容的相关技术的总称。其中包括最重要的三项技术是HTML5核心规范、CSS和JavaScript。</p>
<h3 id="支持情况"><a href="#支持情况" class="headerlink" title="支持情况"></a>支持情况</h3><p>网站 ( <a href="http://caniuse.com/" target="_blank" rel="external">http://caniuse.com/</a> ) 上面提供了浏览器的智齿情况和采用率方面的详细信息，并且勤于修订。</p>
<h3 id="新特性"><a href="#新特性" class="headerlink" title="新特性"></a>新特性</h3><h4 id="全局属性"><a href="#全局属性" class="headerlink" title="全局属性"></a>全局属性</h4><ul>
<li><p>contenteditable 属性: 用途是让用户能够修改页面上的那内容</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">contenteditable</span>=<span class="string">"true"</span>&gt;</span>It is raining right now<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>属性效果如下：<br><img src="/images/h5_01.jpeg" alt=""><br><img src="/images/h5_02.jpeg" alt="">  </p>
</li>
<li><p>contextmeun 属性: 规定一个上下文菜单。该菜单会在用户右键点击该元素时出现：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">contextmenu</span>=<span class="string">"mymenu"</span>&gt;</span>右击我试试<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">menu</span> <span class="attr">type</span>=<span class="string">"context"</span> <span class="attr">id</span>=<span class="string">"mymenu"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">menuitem</span> <span class="attr">label</span>=<span class="string">"菜单1"</span> <span class="attr">onclick</span>=<span class="string">"alert('这是菜单1');"</span> <span class="attr">icon</span>=<span class="string">"http://d.lanrentuku.com/down/gif/gif-0145.gif"</span>&gt;</span><span class="tag">&lt;/<span class="name">menuitem</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">menuitem</span> <span class="attr">label</span>=<span class="string">"菜单2"</span> <span class="attr">onclick</span>=<span class="string">"alert('这是菜单2');"</span> <span class="attr">icon</span>=<span class="string">"http://d.lanrentuku.com/down/gif/gif-0161.gif"</span>&gt;</span><span class="tag">&lt;/<span class="name">menuitem</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">menu</span> <span class="attr">label</span>=<span class="string">"菜单3"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">menuitem</span> <span class="attr">label</span>=<span class="string">"菜单3-1"</span> <span class="attr">icon</span>=<span class="string">"http://d.lanrentuku.com/down/gif/gif-0184.gif"</span> <span class="attr">onclick</span>=<span class="string">"alert('这是菜单3-1');"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">menuitem</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">menu</span> <span class="attr">label</span>=<span class="string">"菜单3-2"</span> &gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">menuitem</span> <span class="attr">label</span>=<span class="string">"菜单3-2-1"</span> <span class="attr">icon</span>=<span class="string">"http://d.lanrentuku.com/down/gif/gif-0171.gif"</span> <span class="attr">onclick</span>=<span class="string">"alert('这是菜单3-2-1');"</span>&gt;</span></div><div class="line">         <span class="tag">&lt;/<span class="name">menuitem</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>属性效果如下：<br><img src="/images/h5_03.jpeg" alt=""></p>
<ul>
<li>contextmenu 属性的值是需要打开的 <code>&lt;menu&gt;</code> 元素的 id。  </li>
<li>目前只有 Firefox 浏览器支持 contextmenu 属性。  </li>
</ul>
</li>
<li><p>draggable 属性：用来表示元素是否可被拖拽</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">draggable</span>=<span class="string">"true"</span>&gt;</span>This is a draggable paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>效果如下：<br><img src="/images/h5_04.jpeg" alt=""></p>
<ul>
<li>只写 draggable 不起作用，需要使用 draggable=”true”</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/06/Webpack + react-router 按需加载/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Deer Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DeerW's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/06/Webpack + react-router 按需加载/" itemprop="url">
                  Webpack + React-router 按需加载
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-06T10:21:57+08:00">
                2017-06-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>React Router 适用于各种类型的网站。对于大型应用来说，一个首当其冲的问题就是所需加载的 JavaScript 的大小。程序应当只加载当前渲染页所需的 JavaScript。有些开发者将这种方式称之为“代码分拆” —— 将所有的代码分拆成多个小包，在用户浏览过程中按需加载。</p>
<p>路由是个非常适于做代码分拆的地方：它的责任就是配置好每个 view。</p>
<h4 id="webpack-配置"><a href="#webpack-配置" class="headerlink" title="webpack 配置"></a>webpack 配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">output: &#123;</div><div class="line">    <span class="attr">path</span>: <span class="string">'./dist/'</span>,</div><div class="line">    <span class="attr">filename</span>: <span class="string">'[name].[chunkhash].js'</span>,</div><div class="line">    <span class="attr">chunkFilename</span>: <span class="string">'[name].[chunkhash:8].chunk.js'</span>,</div><div class="line">  &#125;,</div></pre></td></tr></table></figure>
<ul>
<li>name 表示创建的chunk的指定名字，如果未指定则用id作为name，即后面会提到的<code>chunkName</code></li>
<li>chunkhash 是文件的 hash 码，用来保证文件的唯一性，这里使用前八位（前几位可随意选取）</li>
</ul>
<h4 id="结合react-router"><a href="#结合react-router" class="headerlink" title="结合react-router"></a>结合react-router</h4><p>Route 可以定义 getChildRoutes，getIndexRoute 和 getComponent 这几个函数。它们都是异步执行，并且只有在需要时才被调用。我们将这种方式称之为 “逐渐匹配”。 React Router 会逐渐的匹配 URL 并只加载该 URL 对应页面所需的路径配置和组件。所以我们需要将原本Route组件的component属性换成getComponent以此来运行我们的关键函数。</p>
<h5 id="path"><a href="#path" class="headerlink" title="path"></a>path</h5><p>将匹配的路由，也就是以前的 path。</p>
<h5 id="getComponent"><a href="#getComponent" class="headerlink" title="getComponent"></a>getComponent</h5><p>对应 component 属性，但是这个方法是异步的，也就是当路由匹配时，才会调用这个方法。<br>这里面有个 <code>require.ensure</code> 方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>.ensure(dependencies, callback, chunkName)</div></pre></td></tr></table></figure>
<p>这是 webpack 提供的方法，这也是按需加载的核心方法。第一个参数是依赖，第二个是回调函数，第三个就是上面提到的 chunkName，用来指定这个 chunk file 的 name。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Route &#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</div><div class="line"><span class="keyword">import</span> rootNode <span class="keyword">from</span> <span class="string">'./rootNode'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> userAgreement = <span class="function">(<span class="params">location, callback</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">require</span>.ensure([], <span class="built_in">require</span> =&gt; &#123;</div><div class="line">    callback(<span class="literal">null</span>, <span class="built_in">require</span>(<span class="string">'./components/UserAgreement'</span>).default);</div><div class="line">  &#125;, <span class="string">'userAgreement'</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> routes = (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">'/'</span> <span class="attr">component</span>=<span class="string">&#123;rootNode&#125;</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">'user-agreement'</span> <span class="attr">getComponent</span>=<span class="string">&#123;userAgreement&#125;</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">);</div><div class="line"></div><div class="line">export default routes;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/24/web前端优化及工具/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Deer Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DeerW's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/24/web前端优化及工具/" itemprop="url">
                  Web前端优化最佳实践及工具
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-24T11:14:52+08:00">
                2017-04-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前端的性能对于一个Web应用来说非常重要，如果一个Web应用的页面加载速度非常快、对于用户的操作可以及时响应，那么产品的用户体验将会极大地提升。下图显示了页面加载速度对于用户体验的影响。</p>
<p><img src="/images/web_01.jpg" alt=""></p>
<p>你的Web页面的速度是否已经足够快了？其实可能还有很多可以提升的地方。Google和雅虎也提出了一些Web应用的前端优化建议，并发布了一些工具，你可以逐一检验你的Web应用，以便达到更高的性能。</p>
<p>这些优化不仅仅可以给用户提供更好的体验，从开发者角度来说，进行优化还可以减少页面的请求数、降低请求所占的带宽、减少资源的浪费。</p>
<p>下面来看看Google和雅虎提供的Web页面优化最佳实践。</p>
<h3 id="Google的Web优化最佳实践"><a href="#Google的Web优化最佳实践" class="headerlink" title="Google的Web优化最佳实践"></a>Google的Web优化最佳实践</h3><h4 id="避免坏请求"><a href="#避免坏请求" class="headerlink" title="避免坏请求"></a>避免坏请求</h4><p>有时页面中的HTML或CSS会向服务器请求一个不存在的资源，比如图片或HTML文件，这会造成浏览器与服务器之间过多的往返请求，类似于：</p>
<ul>
<li>浏览器：“我需要这个图像。”</li>
<li>服务器：“我没有这个图像。”</li>
<li>浏览器：“你确定吗？这个文档说你有。”</li>
<li>服务器：“真的没有。”</li>
</ul>
<p>如此一来，会降低页面的加载速度。因此，检查页面中的坏链接非常有必要，你可以通过 <a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank" rel="external">Google的PageSpeed工具</a> 来检测，找到问题后，补充相应的资源文件或者修改资源的链接地址即可。</p>
<h4 id="避免CSS-import"><a href="#避免CSS-import" class="headerlink" title="避免CSS @import"></a>避免CSS @import</h4><p>使用 @import方法引用CSS文件可以能会带来一些影响页面加载速度的问题，比如导致文件按顺序加载（一个加载完后才会加载另一个），而无法并行加载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@import url(<span class="string">"style.css"</span>)</div></pre></td></tr></table></figure>
<p>则建议你使用下面的代码来替代</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;link rel=<span class="string">"style.css"</span> href=<span class="string">"style.css"</span> <span class="built_in">type</span>=<span class="string">"text/css"</span>&gt;</div></pre></td></tr></table></figure>
<h4 id="避免使用document-write"><a href="#避免使用document-write" class="headerlink" title="避免使用document.write"></a>避免使用document.write</h4><p>在JavaScript中，可以使用 document.write在网页上显示内容或调用外部资源，而通过此方法，浏览器必须采取一些多余的步骤——下载资源、读取资源、运行JavaScript来了解需要做什么，调用其他资源时需要重新再执行一次这个过程。由于浏览器之前不知道要显示什么，所以会降低页面加载的速度。</p>
<p>要知道，任何能够被document.write调用的资源，都可以通过HTML来调用，这样速度会更快。检查你的页面代码，如果存在类似于下面的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;script src="another.js"&gt;&lt;/script&gt;'</span>);</div></pre></td></tr></table></figure>
<p>则建议你使用下面的代码来替代</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script src=<span class="string">"another.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h4 id="合并多个外部CSS文件"><a href="#合并多个外部CSS文件" class="headerlink" title="合并多个外部CSS文件"></a>合并多个外部CSS文件</h4><p>网站中每使用一个CSS文件，都会让你的页面加载速度慢一点点。如果你有一个以上的CSS文件，你应该将它们合并为一个文件。</p>
<p>你可以通过 <a href="http://www.feedthebot.com/tools/css-delivery/" target="_blank" rel="external">CSS delivery工具</a> 来检测页面代码中的CSS文件，然后通过复制粘贴的方式将它们合并为一个。合并后记得修改页面中的引用代码，并删除旧的引用代码</p>
<h4 id="合并多个外部JavaScript文件"><a href="#合并多个外部JavaScript文件" class="headerlink" title="合并多个外部JavaScript文件"></a>合并多个外部JavaScript文件</h4><p>大部分情况下，网站往往会包含若干个 JavaScript文件，但并不需要将这些文件都独立出来，其中有些是可以合并为一个文件的。</p>
<p>你可以通过 <a href="http://www.feedthebot.com/tools/requests/" target="_blank" rel="external">resource check工具</a> 来检测页面中所引用的JavaScript文件数，然后可以通过复制粘贴的方式将多个文件合并为一个。</p>
<h4 id="通过CSS-sprites来整合图像"><a href="#通过CSS-sprites来整合图像" class="headerlink" title="通过CSS sprites来整合图像"></a>通过CSS sprites来整合图像</h4><p>如果页面中有6个小图像，那么浏览器在显示时会分别下载。你可以通过CSS sprites将这些图像合并成1个，可以减少页面加载所需的时间。</p>
<p>CSS sprites需要有两个步骤：整合图像、定位图像。比如你可以通过下面的代码来分别定位下面图像中的上下两部分。</p>
<h4 id="延迟JavaScript的加载"><a href="#延迟JavaScript的加载" class="headerlink" title="延迟JavaScript的加载"></a>延迟JavaScript的加载</h4><p>浏览器在执行JavaScript代码时会停止处理页面，当页面中有很多JavaScript文件或代码要加载时，将导致严重的延迟。尽管可以使用defer、异步或将JavaScript代码放到页面底部来延迟JavaScript的加载，但这些都不是一个好的解决方案。</p>
<p>下面是Google的建议：</p>
<pre><code class="js">&lt;script type=<span class="string">"text/javascript"</span>&gt;  
<span class="function"><span class="keyword">function</span> <span class="title">downloadJSAtOnload</span>(<span class="params"></span>) </span>{  
  <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);  
  element.src = <span class="string">"defer.js"</span>;  
  <span class="built_in">document</span>.body.appendChild(element);  
}
<span class="keyword">if</span> (<span class="built_in">window</span>.addEventListener)  <span class="built_in">window</span>.addEventListener(<span class="string">"load"</span>, downloadJSAtOnload, <span class="literal">false</span>);  
<span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.attachEvent)  <span class="built_in">window</span>.attachEvent(<span class="string">"onload"</span>, downloadJSAtOnload);  
<span class="keyword">else</span> <span class="built_in">window</span>.onload = downloadJSAtOnload;  
<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span>
</code></pre>
<p>这段代码的意思是等待页面加载完成后，然后再加载外部的“defer.js”文件。下面是测试结果。</p>
<p><img src="/images/defer.jpg" alt=""></p>
<h4 id="启用压缩-GZIP"><a href="#启用压缩-GZIP" class="headerlink" title="启用压缩/ GZIP"></a>启用压缩/ GZIP</h4><p>使用gzip对HTML和CSS文件进行压缩，通常可以节省大约50％到70％的大小，这样加载页面只需要更少的带宽和更少的时间。</p>
<p>你可以通过这个 <a href="http://www.feedthebot.com/tools/gzip/" target="_blank" rel="external">Gzip压缩工具</a> 来检测页面是否已经经过Gzip压缩。</p>
<h4 id="启用Keep-Alive"><a href="#启用Keep-Alive" class="headerlink" title="启用Keep-Alive"></a>启用Keep-Alive</h4><p>HTTP协议采用“请求-应答”模式，当使用普通模式（非KeepAlive模式）时，每个请求/应答客户和服务器都要新建一个连接，完成之后立即断开连接（HTTP协议为无连接的协议）；当使用 Keep-Alive模式（又称持久连接、连接重用）时，Keep-Alive功能使客户端到服务器端的连接持续有效，当出现对服务器的后继请求时，Keep-Alive功能避免了建立或者重新建立连接。</p>
<p>在HTTP 1.0中Keep-Alive默认是关闭的，需要在HTTP头中加入“Connection: Keep-Alive”，才能启用Keep-Alive；在 HTTP1.1中Keep-Alive默认启用，加入“Connection: close”可关闭。目前大部分浏览器都是用HTTP 1.1协议，也就是说默认都会发起Keep-Alive的连接请求了，所以是否能完成一个完整的Keep- Alive连接就看Web服务器的设置情况。</p>
<h4 id="将小的CSS和JavaScript代码内嵌到HTML中"><a href="#将小的CSS和JavaScript代码内嵌到HTML中" class="headerlink" title="将小的CSS和JavaScript代码内嵌到HTML中"></a>将小的CSS和JavaScript代码内嵌到HTML中</h4><p>如果你的CSS代码比较小，可以将这部分代码放到HTML文件中，而不是一个外部CSS文件，这样可以减少页面加载所需的文件数，从而加快页面的加载。同样，也可以将小的 JavaScript脚本代码内嵌到HTML文件中。</p>
<h4 id="利用浏览器缓存"><a href="#利用浏览器缓存" class="headerlink" title="利用浏览器缓存"></a>利用浏览器缓存</h4><p>在显示页面时，浏览器需要加载logo、CSS文件和其他一些资源。浏览器缓存所做的工作就是“记住”已经加载的资源，让页面的加载速度更快。</p>
<h4 id="压缩CSS代码"><a href="#压缩CSS代码" class="headerlink" title="压缩CSS代码"></a>压缩CSS代码</h4><p>不管你在页面中如何使用CSS，CSS文件都是越小越好，这会帮助你提升网页的加载速度。你可以通过 <a href="http://www.feedthebot.com/tools/css/" target="_blank" rel="external">Minify CSS工具</a> 来压缩你的CSS代码。</p>
<h4 id="尽量减少DNS查询次数"><a href="#尽量减少DNS查询次数" class="headerlink" title="尽量减少DNS查询次数"></a>尽量减少DNS查询次数</h4><p>当浏览器与Web服务器建立连接时，它需要进行DNS解析，将域名解析为IP地址。然而，一旦客户端需要执行DNS lookup时，等待时间将会取决于域名服务器的有效响应的速度。</p>
<p>虽然所有的ISP的DNS服务器都能缓存域名和IP地址映射表，但如果缓存的DNS记录过期了而需要更新，则可能需要通过遍历多个DNS节点，有时候需要通过全球范围内来找到可信任的域名服务器。一旦域名服务器工作繁忙，请求解析时就需要排队，则进一步延迟等待时间。</p>
<p>因此，减少DNS的查询次数非常重要，页面加载时就尽量避免额外耗时。为了减少DNS查询次数，最好的解决方法就是在页面中减少不同的域名请求的机会。</p>
<p>你可以通过 <a href="http://www.feedthebot.com/tools/requests/" target="_blank" rel="external">request checker工具</a> 来检测页面中存在多少请求，然后进行优化。</p>
<h4 id="尽量减少重定向"><a href="#尽量减少重定向" class="headerlink" title="尽量减少重定向"></a>尽量减少重定向</h4><p>有时为了特定需求，需要在网页中使用重定向。重定向的意思是，用户的原始请求（例如请求A）被重定向到其他的请求（例如请求B）。</p>
<p>但是这会造成网站性能和速度下降，因为浏览器访问网址是一连串的过程，如果访问到一半而跳到新地址，就会重复发起一连串的过程，这将浪费很多的时间。所以我们要尽量避免重定向，Google建议：</p>
<ul>
<li>不要链接到一个包含重定向的页面</li>
<li>不要请求包含重定向的资源</li>
</ul>
<h4 id="优化样式表和脚本的顺序"><a href="#优化样式表和脚本的顺序" class="headerlink" title="优化样式表和脚本的顺序"></a>优化样式表和脚本的顺序</h4><p>Style标签和样式表调用代码应该放置在JavaScript代码的前面，这样可以使页面的加载速度加快</p>
<h4 id="避免JavaScripts阻塞渲染"><a href="#避免JavaScripts阻塞渲染" class="headerlink" title="避免JavaScripts阻塞渲染"></a>避免JavaScripts阻塞渲染</h4><p>浏览器在遇到一个引入外部JS文件的<code>&lt;script&gt;</code>标签时，会停下所有工作来下载并解析执行它，在这个过程中，页面渲染和用户交互完全被阻塞了。这时页面加载就会停止。</p>
<p>谷歌建议删除干扰页面中第一屏内容加载的JavaScript，第一屏是指用户在屏幕中最初看到的页面，无论是桌面浏览器、手机，还是平板电脑。</p>
<h4 id="缩小原始图像"><a href="#缩小原始图像" class="headerlink" title="缩小原始图像"></a>缩小原始图像</h4><p>如果无需在页面中显示较大的图像，那么就建议将图像的实际大小缩小为显示的大小，这样可以减少下载图像所需的时间。</p>
<h4 id="指定图像尺寸"><a href="#指定图像尺寸" class="headerlink" title="指定图像尺寸"></a>指定图像尺寸</h4><p>当浏览器加载页面的HTML代码时，有时候需要在图片下载完成前就对页面布局进行定位。如果HTML里的图片没有指定尺寸（宽和高），或者代码描述的尺寸与实际图片的尺寸不符时，浏览器则要在图片下载完成后再“回溯”该图片并重新显示，这将消耗额外的时间）。</p>
<p>所以，最好为页面中的每一张图片都指定尺寸，不管是在HTML里的<code>&lt;img&gt;</code>标签中，还是在CSS中。</p>
<h4 id="更多信息："><a href="#更多信息：" class="headerlink" title="更多信息："></a>更多信息：</h4><p><a href="https://developers.google.com/speed/docs/insights/rules" target="_blank" rel="external">https://developers.google.com/speed/docs/insights/rules</a>  </p>
<h3 id="雅虎的Web优化最佳实践"><a href="#雅虎的Web优化最佳实践" class="headerlink" title="雅虎的Web优化最佳实践"></a>雅虎的Web优化最佳实践</h3><h4 id="内容优化"><a href="#内容优化" class="headerlink" title="内容优化"></a>内容优化</h4><ul>
<li>尽量减少HTTP请求：常见方法包括合并多个CSS文件和JavaScript文件，利用CSS Sprites整合图像，Image map（图像中不同的区域设置不同的链接），内联图象（使用  data: URL scheme 在实际的页面嵌入图像数据）等。</li>
<li>减少DNS查找</li>
<li>避免重定向</li>
<li>是Ajax可缓存</li>
<li>延迟加载组件：考虑哪些内容是页面呈现是所必须首先加载的、哪些内容和结构可以稍后再加载，根据这个优先级就行设定。</li>
<li>预加载组件：预加载是在浏览器空闲时请求将来可能会用到的页面内容（如图像、样式表和脚本）。当用户要访问下一个页面是，页面中的内容大部分已经加载到缓存中了，因此可以大大改善访问速度。</li>
<li>减少DOM元素数量：页面中存在大量DOM元素，会导致JavaScript遍历DOM的效率变慢。</li>
<li>根据域名划分页面内容：把页面内容划分成若干部分可以使你最大程度的实现平行下载。但要确保你使用的域名数量在2-4之间。</li>
<li>最小化iframe的数量：iframes 提供了一个简单的方式把一个网站的内容嵌入到另一个网站中。但其创建速度比其他包括JavaScript和CSS的DOM元素的创建慢了1-2个数量级。</li>
<li>避免404：HTTP请求时间消耗是很大的，因此使用HTTP请求来获得一个没有用处的响应（例如404没有找到页面）是完全没有必要的，它只会降低用户体验而不会有一点好处。</li>
</ul>
<h4 id="服务器优化"><a href="#服务器优化" class="headerlink" title="服务器优化"></a>服务器优化</h4><ul>
<li>使用内容分发网络（CDN）：把你的网站内容分散到多个、处于不同地域位置的服务器上可以加快下载速度。</li>
<li>添加Expires或Cache-Control信息头：对于静态内容，可设置文件头过期时间Expires的值为“Never expire（永不过期）”；对于动态内容，可使用恰当的Cache-Control文件头来帮助浏览器进行有条件的请求。</li>
<li>Gzip压缩</li>
<li>设置ETag：ETags（Entity tags，实体标签）是web服务器和浏览器用于判断浏览器缓存中的内容和服务器中的原始内容是否匹配的一种机制。</li>
<li>提前刷新缓冲区：当用户请求一个页面时，服务器会花费200到500毫秒用于后台组织HTML文件。在这期间，浏览器会一直空闲等待数据返回。在PHP中，可以使用flush()方法，它允许你把已经编译的好的部分HTML响应文件先发送给浏览器，这时浏览器就会可以下载文件中的内容（脚本等）而后台同时处理剩余的HTML页面。</li>
<li>对Ajax请求使用GET方法：当使用XMLHttpRequest时，浏览器中的POST方法会首先发送文件头，然后才发送数据。因此使用GET最为恰当。</li>
<li>避免空的图像src</li>
</ul>
<h4 id="Cookie优化"><a href="#Cookie优化" class="headerlink" title="Cookie优化"></a>Cookie优化</h4><ul>
<li>减小cookie大小：去除不必要的coockie，并使coockie体积尽量小以减少对用户响应的影响</li>
<li>针对Web组件使用域名无关的Cookie：对静态组件的Cookie读取是一种浪费，使用另一个无Cookie的域名来存放静态组件是一个好方法，或者也可以在Cookie中只存放带www的域名。</li>
</ul>
<h4 id="CSS优化"><a href="#CSS优化" class="headerlink" title="CSS优化"></a>CSS优化</h4><ul>
<li>将CSS代码放在HTML页面的顶部</li>
<li>避免使用CSS表达式：CSS表达式在执行时候的运算量非常大，会对页面性能产生大的影响</li>
<li>使用<code>&lt;link&gt;</code>来代替@import</li>
<li>避免使用Filters：IE独有属性AlphaImageLoader用于修正IE 7以下版本中PNG图片的半透明效果，但它的问题在于浏览器加载图片时它会终止内容的呈现并且冻结浏览器。</li>
</ul>
<h4 id="JavaScript优化"><a href="#JavaScript优化" class="headerlink" title="JavaScript优化"></a>JavaScript优化</h4><ul>
<li>将JavaScript脚本放在页面的底部</li>
<li>将JavaScript和CSS作为外部文件来引用：在实际应用中使用外部文件可以提高页面速度，因为JavaScript和CSS文-件都能在浏览器中产生缓存。</li>
<li>缩小JavaScript和CSS</li>
<li>删除重复的脚本</li>
<li>最小化DOM的访问：使用JavaScript访问DOM元素比较慢<br>开发智能的事件处理程序</li>
</ul>
<h4 id="图像优化"><a href="#图像优化" class="headerlink" title="图像优化"></a>图像优化</h4><ul>
<li>优化图片大小</li>
<li>通过CSS Sprites优化图片</li>
<li>不要在HTML中使用缩放图片</li>
<li>favicon.ico要小而且可缓存</li>
</ul>
<h4 id="更多信息：-1"><a href="#更多信息：-1" class="headerlink" title="更多信息："></a>更多信息：</h4><p><a href="http://developer.yahoo.com/performance/rules.html" target="_blank" rel="external">http://developer.yahoo.com/performance/rules.html</a> (中文翻译)</p>
<h3 id="一些工具"><a href="#一些工具" class="headerlink" title="一些工具"></a>一些工具</h3><h4 id="Google-PageSpeed"><a href="#Google-PageSpeed" class="headerlink" title="Google PageSpeed"></a><a href="https://developers.google.com/speed/pagespeed/" target="_blank" rel="external">Google PageSpeed</a></h4><p>Google提供了 PageSpeed工具，这是一个浏览器插件，可以很好地应用上文中Google所提到的Web优化实践——帮助你轻松对网站的性能瓶颈进行分析，并为你提供优化建议。</p>
<ul>
<li><a href="http://developer.yahoo.com/yslow/" target="_blank" rel="external">在线分析你的网站</a></li>
<li>安装浏览器插件（ Chrome、 Firefox）</li>
</ul>
<h4 id="雅虎-YSlow"><a href="#雅虎-YSlow" class="headerlink" title="雅虎 YSlow"></a><a href="http://developer.yahoo.com/yslow/" target="_blank" rel="external">雅虎 YSlow</a></h4><p>YSlow是雅虎推出的一款浏览器插件，可以帮助你对网站的页面进行分析，并为你提供一些优化建议，以提高网站的性能。</p>
<ul>
<li><a href="https://addons.mozilla.org/en-US/firefox/addon/5369" target="_blank" rel="external">Firefox插件</a></li>
<li><a href="https://chrome.google.com/webstore/detail/ninejjcohidippngpapiilnmkgllmakh" target="_blank" rel="external">Chrome插件</a></li>
<li><a href="http://yslow.org/mobile/" target="_blank" rel="external">YSlow for Mobile/Bookmarklet</a></li>
<li><a href="https://github.com/marcelduran/yslow" target="_blank" rel="external">源码</a></li>
</ul>
<h4 id="其他分析优化工具"><a href="#其他分析优化工具" class="headerlink" title="其他分析优化工具"></a>其他分析优化工具</h4><ul>
<li><a href="http://www.feedthebot.com/tools/spider/" target="_blank" rel="external">蜘蛛模拟器</a>：这个工具可以分析你的页面，并提供一些优化建议。</li>
<li><a href="http://www.feedthebot.com/tools/alt/" target="_blank" rel="external">图像SEO工具</a>：这个工具可以检查图片的alt标签，并提供一些优化建议。</li>
<li><a href="http://www.feedthebot.com/tools/requests/" target="_blank" rel="external">请求检查器</a>：找出页面中需要加载哪些资源和服务。</li>
<li><a href="http://www.feedthebot.com/tools/linkcount/" target="_blank" rel="external">链接检查器</a>：检查页面中内部、外部和无效链接。</li>
<li><a href="http://www.feedthebot.com/tools/headers/" target="_blank" rel="external">HTTP头检查</a>：显示网页或资源的HTTP响应头。</li>
<li><a href="http://www.feedthebot.com/tools/social/" target="_blank" rel="external">社交检查器</a>：检查页面中的社交组件，比如Google+、Facebook、Twitter、Linkedin和Pinterest。</li>
<li><a href="http://www.feedthebot.com/tools/if-modified/" target="_blank" rel="external">If modified检查器</a>：检查页面是否接受 If-Modified-Since HTTP头。</li>
<li><a href="http://www.feedthebot.com/tools/gzip/" target="_blank" rel="external">Gzip检查器</a>：检查页面是否经过了Gzip压缩。</li>
<li><a href="http://www.feedthebot.com/tools/css-delivery/" target="_blank" rel="external">CSS delivery工具</a>：检查页面中所使用的CSS文件。</li>
<li><a href="http://www.feedthebot.com/tools/richsnippets/breadcrumb/" target="_blank" rel="external">面包屑工具</a>：可根据你输入的信息提供面包屑导航的代码。</li>
<li><a href="http://www.feedthebot.com/tools/css/" target="_blank" rel="external">CSS压缩工具</a>：用于压缩CSS代码。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/24/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Deer Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DeerW's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/24/hello-world/" itemprop="url">
                  Hello World
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-24T10:44:10+08:00">
                2017-04-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Deer Wang" />
          <p class="site-author-name" itemprop="name">Deer Wang</p>
           
              <p class="site-description motion-element" itemprop="description">Stay Hungry, Stay Foolish.</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/deerw" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Deer Wang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
